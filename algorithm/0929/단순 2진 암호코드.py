password = [
    [0, 0, 0, 1, 1, 0, 1],
    [0, 0, 1, 1, 0, 0, 1],
    [0, 0, 1, 0, 0, 1, 1],
    [0, 1, 1, 1, 1, 0, 1],
    [0, 1, 0, 0, 0, 1, 1],
    [0, 1, 1, 0, 0, 0, 1],
    [0, 1, 0, 1, 1, 1, 1],
    [0, 1, 1, 1, 0, 1, 1],
    [0, 1, 1, 0, 1, 1, 1],
    [0, 0, 0, 1, 0, 1, 1],
]

T = int(input())
for tc in range(T):
    N, M = map(int, input().split())
    arr = [list(map(int, input())) for _ in range(N)]
    check_code = [0] * 56
    for i in range(N):
        for j in range(M-1, -1, -1):
            if arr[i][j] == 1:
                for k in range(56):
                    check_code[-k-1] = arr[i][j-k]
                break
    ans_code = [[0] * 7 for _ in range(8)]
    t = 0
    for i in range(8):
        for j in range(7):
            ans_code[i][j] = check_code[t]
            t += 1
    print(f'#{tc+1}', end = ' ')
    ans = []
    for i in range(len(ans_code)):
        for j in range(len(password)):
            if ans_code[i] == password[j]:
                ans.append(j)
    check_ans = ans[-1]
    for i in range(len(ans)-1):
        if i % 2 == 0:
            check_ans += 3 * ans[i]
        else: 
            check_ans += ans[i]
    if check_ans % 10 == 0:
        print(f'{sum(ans)}')
    else:
        print('0')




'''
1
16 80
00000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000011101101100010111011011000101100010001101001001101110110000000000
00000000000000011101101100010111011011000101100010001101001001101110110000000000
00000000000000011101101100010111011011000101100010001101001001101110110000000000
00000000000000011101101100010111011011000101100010001101001001101110110000000000
00000000000000011101101100010111011011000101100010001101001001101110110000000000
00000000000000011101101100010111011011000101100010001101001001101110110000000000
00000000000000011101101100010111011011000101100010001101001001101110110000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000
'''